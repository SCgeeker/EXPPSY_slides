<!DOCTYPE HTML>
<html><head><META CHARSET='UTF-8'><title>PsyToolkit run experiment</title>
</head>
<body onload="whenloaded()">
<script>
function tmpmouse(e){MouseX=e.clientX-c.getBoundingClientRect().left;MouseY=e.clientY-c.getBoundingClientRect().top; if(MouseX>175 && MouseX<625 && MouseY>125 && MouseY<475){window.removeEventListener('mousedown', tmpmouse, false);main();}}

function whenloaded(){
tmp1 = document.getElementById('exp');
 tmp2 = tmp1.getContext('2d');
 tmp2.fillStyle='red';
 tmp2.fillRect(175,125,450,350);
 tmp2.fillStyle='yellow';
 tmp2.font='24px Arial';
 tmp2.textAlign='center';
 tmp2.fillText('Click to start',400,300);
 window.addEventListener('mousedown', tmpmouse, false) // use this listener only when needed
}</script>
<center><div id='cbox'
    style='width:800;height:600;border:0px
    solid black;background-color:black'><canvas tabindex='1'
    id="exp" width="800"
    height="600" style="outline:none;display:
    block;
    background-color:black;border:none;padding:0;margin:0;"></canvas></div></center>
<script>
 var click_to_start_text = Click to start;

 tmp1 = document.getElementById('exp');
 tmp2 = tmp1.getContext('2d');
 tmp2.fillStyle='grey';
 tmp2.fillRect(175,125,450,350);
 tmp2.fillStyle='blue';
 tmp2.font='24px Arial';
 tmp2.textAlign='center';
 tmp2.fillText('Wait a second ...',400,300);
</script>
<script>
var MAXSPRITES=100;var MAXBITMAPS=1e3;var PSY_CENTRAL=-99999;var MAX_FONTS=100;var psy_font_number=0;var psy_fonts=new Array;var psy_fonts_size=new Array;var PSY_VIDEO_DOUBLEBUFFER=1;var PSY_KEY_STATUS_CORRECT=1;var PSY_KEY_STATUS_WRONG=2;var PSY_KEY_STATUS_TIMEOUT=3;var psy_screen_center_x=0;var psy_screen_x_offset=0;var psy_screen_center_y=0;var psy_screen_y_offset=0;var psy_screen_width=800;var psy_screen_height=600;var psy_exp_start_time=0;var psy_exp_current_time=0;var psy_blockorder=1;var tablerow=0;var keystatus={key:0,status:0,time:0,totaltime:0,mouse_x:0,mouse_y:0,bitmap:0};var possiblekeys=new Array;var readkeys_option_size=5;var readkeys_option_show=1;var readkeys_option_show_x=0;var readkeys_option_show_y=0;var readkeys_option_font=0;var readkeys_option_placeholders=0;var readkeys_option_placeholder_bitmap=-1;var readkeys_option_placeholder_w=0;var readkeys_option_placeholder_h=0;var readkeys_option_spacing=30;var readkeys_option_font_color=[255,255,255];var mousestatus={key:0,status:0,time:0,totaltime:0,x:0,y:0};var c=document.getElementById("exp");var canvas_x_offset=c.getBoundingClientRect().left;var canvas_y_offset=c.getBoundingClientRect().top;var psy_mouse_cursor=0;var psy_mouse_store=0;var ctx=c.getContext("2d");var log=document.getElementById("log");var output=document.getElementById("Output");outputdata=String();var psy_bitmaps=new Array;var psy_bitmaps_loaded=0;var psy_sounds_loaded=0;var bmp_number=0;var psy_sounds=new Array;var psy_sound_number=0;function psy_stimuli_loaded(){var percentage=0;total_stimuli=bmp_number+psy_sound_number;total_loaded=psy_bitmaps_loaded+psy_sounds_loaded;if(total_stimuli>0)percentage=Math.round(total_loaded/total_stimuli*100);else percentage=100;tmp=psy_bitmaps_loaded<bmp_number||psy_sounds_loaded<psy_sound_number;if(tmp&&percentage<100)return percentage;if(tmp&&percentage==100)return 99;if(psy_bitmaps_loaded==bmp_number&&psy_sounds_loaded==psy_sound_number)return 100}function when_stimuli_loaded_do(functionname){tmp=psy_stimuli_loaded();ctx.fillStyle=hexrgb(0,0,0);ctx.fillRect(0,0,psy_screen_width,psy_screen_height);ctx.font="30px Arial";ctx.fillStyle="white";ctx.textAlign="left";if(tmp<100){if(tmp==0)ctx.fillText("Loading data",100,100);else ctx.fillText("Loading data "+tmp+"%",100,100);setTimeout(when_stimuli_loaded_do,250,functionname)}else{setTimeout(functionname,0)}}function psy_load_bitmap(name){psy_bitmaps[bmp_number]=new Image;psy_bitmaps[bmp_number].onload=function(){psy_bitmaps_loaded++};psy_bitmaps[bmp_number].src=name;bmp_number++;return bmp_number-1}function psy_load_sound(name){psy_sounds[psy_sound_number]=new Audio;psy_sounds[psy_sound_number].onloadeddata=function(){psy_sounds_loaded++};psy_sounds[psy_sound_number].src=name;psy_sound_number++;return psy_sound_number-1}function psy_play(sound){psy_sounds[sound-1].play()}function psy_silence(sound){psy_sounds[sound-1].pause();psy_sounds[sound-1].currentTime=0}function psy_load_font(name,size){psy_fonts[psy_font_number]=size+"pt "+name;psy_fonts_size[psy_font_number]=size;psy_font_number++;return psy_font_number-1}function addlog(text){if(log!=null){log.value+=text+"\n";log.scrollTop=log.scrollHeight}}function addoutput(text){if(output!=null)output.value+=text+"\n";outputdata=outputdata+text+"\n"}function hexrgb(r,g,b){h="#";if(r<16)h=h+"0"+r.toString(16);else h=h+r.toString(16);if(g<16)h=h+"0"+g.toString(16);else h=h+g.toString(16);if(b<16)h=h+"0"+b.toString(16);else h=h+b.toString(16);return h}starttime=0;function psy_expect_keyboard(){psy_readkey.expect_keyboard=true;window.addEventListener("keydown",getkeydown,true);window.addEventListener("keyup",getkeyup,true);psy_readkey.keyupeventlistener=true;psy_readkey.keydowneventlistener=true}function psy_expect_keyboard_readkeys(){psy_readkeys.expect_keyboard=true;window.addEventListener("keydown",readkeys_keydown,true);window.addEventListener("keyup",readkeys_keyup,true);psy_readkeys.keyupeventlistener=true;psy_readkeys.keydowneventlistener=true}function psy_expect_mouse(){psy_readkey.expect_mouse=true}function psy_keyboard(possiblekeys,nkeys,correctkey,maxtime){psy_readkey.expectedkey=possiblekeys[correctkey];psy_readkey.keys=possiblekeys;psy_expect_keyboard();psy_readkey.start(current_task,maxtime)}function psy_keyboard_readkeys(correct_word,maxtime){psy_expect_keyboard_readkeys();psy_readkeys.correct_word=correct_word;psy_readkeys.start(current_task,maxtime)}var psy_readkey={lasttask:"",starttime:0,readkeytimer:"",rt:0,key:0,status:0,keys:[],expect_keyboard:false,expect_mouse:false,expectedkey:0,bitmap:0,bitmap_range:[-1,-1],mouseovereventlistener:false,mousedowneventlistener:false,keyupeventlistener:false,keydowneventlistener:false,start:function(task,maxtime){psy_readkey.rt=maxtime;psy_readkey.key=0;psy_readkey.starttime=(new Date).getTime();psy_readkey.lasttask=task;psy_readkey.readkeytimer=setTimeout("psy_readkey.timeout()",maxtime);keystatus.status=3;keystatus.bitmap=-1;keystatus.time=maxtime;keystatus.key=0},stop:function(){clearTimeout(psy_readkey.readkeytimer);psy_readkey.expect_keyboard=false;psy_readkey.expect_mouse=false;if(psy_readkey.mouseovereventlistener==true){window.removeEventListener("mousemove",getmouse_in_area,false);psy_readkey.mouseovereventlistener=false}if(psy_readkey.mousedowneventlistener==true){window.removeEventListener("mousedown",getmouseclick_in_area,false);psy_readkey.mousedowneventlistener=false}if(psy_readkey.keyupeventlistener==true){window.removeEventListener("keyup",getkeyup,false);psy_readkey.keyupeventlistener=false}if(psy_readkey.keydowneventlistener==true){window.removeEventListener("keydown",getkeydown,false);psy_readkey.keydowneventlistener=false}setTimeout(psy_readkey.lasttask+".run()",0)},timeout:function(){psy_readkey.expect_keyboard=false;psy_readkey.expect_mouse=false;if(psy_readkey.mouseovereventlistener==true){window.removeEventListener("mousemove",getmouse_in_area,false);psy_readkey.mouseovereventlistener=false}if(psy_readkey.mousedowneventlistener==true){window.removeEventListener("mousedown",getmouseclick_in_area,false);psy_readkey.mousedowneventlistener=false}setTimeout(psy_readkey.lasttask+".run()",0)}};var psy_readkeys={x:0,y:0,expect_keyboard:false,lasttask:"",starttime:0,readkeytimer:"",rt:0,key:0,current_position:0,bitmap_number:[],status:0,entered:"",correct_word:"",keyupeventlistener:false,keydowneventlistener:false,start:function(task,maxtime){psy_readkeys.x=readkeys_option_show_x;psy_readkeys.y=readkeys_option_show_y;psy_readkeys.current_position=0;psy_readkeys.entered="";if(readkeys_option_placeholders==1){if(readkeys_option_placeholder_bitmap>=0){for(p=0;p<readkeys_option_size;p++)psy_add_centered_bitmap_db(readkeys_option_placeholder_bitmap,psy_readkeys.x+p*50,psy_readkeys.y,0)}else{if(readkeys_option_placeholder_bitmap==-1){for(p=0;p<readkeys_option_size;p++)psy_add_centered_rectangle_rgb_db(psy_readkeys.x+p*readkeys_option_spacing,psy_readkeys.y,readkeys_option_placeholder_w,readkeys_option_placeholder_h,100,100,255)}}psy_draw_all_db()}psy_readkeys.rt=maxtime;psy_readkeys.starttime=(new Date).getTime();psy_readkeys.lasttask=task;psy_readkeys.readkeytimer=setTimeout("psy_readkeys.timeout()",maxtime);keystatus.status=3;keystatus.time=maxtime},stop:function(){if(psy_readkeys.entered==psy_readkeys.correct_word)keystatus.status=1;if(psy_readkeys.entered!=psy_readkeys.correct_word)keystatus.status=2;clearTimeout(psy_readkeys.readkeytimer);psy_readkeys.expect_keyboard=false;if(psy_readkeys.keyupeventlistener==true){window.removeEventListener("keyup",readkeys_keyup,false);psy_readkeys.keyupeventlistener=false}if(psy_readkeys.keydowneventlistener==true){window.removeEventListener("keydown",readkeys_keydown,false);psy_readkeys.keydowneventlistener=false}setTimeout(psy_readkeys.lasttask+".run()",0)},timeout:function(){psy_readkeys.expect_keyboard=false;setTimeout(psy_readkeys.lasttask+".run()",0)}};var pager_options={back:0,backX:0,backY:0,next:0,nextX:0,nextY:0,quit:0,quitX:0,quitY:0};var inkeypress=0;function getkeydown(e){inkeypress++;if(psy_readkey.expect_keyboard==true&&inkeypress==1&&psy_readkey.keys.indexOf(e.keyCode)>-1){keystatus.time=(new Date).getTime()-psy_readkey.starttime;keystatus.key=psy_readkey.keys.indexOf(e.keyCode);if(e.keyCode==psy_readkey.expectedkey){keystatus.status=1}else{keystatus.status=2}psy_readkey.expect_keyboard=false;psy_readkey.stop()}else{inkeypress=0}}function getkeyup(e){if(inkeypress==1){keystatus.totaltime=(new Date).getTime()-psy_readkey.starttime}inkeypress=0}function readkeys_keydown(e){inkeypress++;if(psy_readkeys.expect_keyboard==true&&inkeypress==1){keystatus.time=(new Date).getTime()-psy_readkeys.starttime;switch(e.keyCode){case 8:if(psy_readkeys.current_position>0){psy_readkeys.current_position--;psy_readkeys.entered=psy_readkeys.entered.slice(0,psy_readkeys.current_position);if(readkeys_option_show==1){psy_clear_stimuli1(psy_readkeys.bitmap_number[psy_readkeys.current_position]);psy_draw_all_db()}}break;case 13:psy_readkeys.expect_keyboard=false;psy_readkeys.stop();break;case 16:if(readkeys_option_show==1)psy_draw_all_db();break;case 17:if(readkeys_option_show==1)psy_draw_all_db();break;case 18:if(readkeys_option_show==1)psy_draw_all_db();break;case 20:if(readkeys_option_show==1)psy_draw_all_db();break;default:if(psy_readkeys.current_position<readkeys_option_size){psy_readkeys.entered=psy_readkeys.entered+String.fromCharCode(e.keyCode);if(readkeys_option_show==1){psy_readkeys.bitmap_number[psy_readkeys.current_position]=psy_add_text_rgb_db(readkeys_option_font,psy_readkeys.x+psy_readkeys.current_position*readkeys_option_spacing,psy_readkeys.y,PSY_CENTRAL,PSY_CENTRAL,readkeys_option_font_color[0],readkeys_option_font_color[1],readkeys_option_font_color[2],String.fromCharCode(e.keyCode),0);psy_draw_all_db()}psy_readkeys.current_position++}}}else{inkeypress=0}}function readkeys_keyup(e){if(inkeypress==1&&e.keyCode!=13){keystatus.totaltime=(new Date).getTime()-psy_readkeys.starttime}inkeypress=0}function getmouse_in_area(e){if(psy_readkey.expect_mouse==true){canvas_x_offset=c.getBoundingClientRect().left;canvas_y_offset=c.getBoundingClientRect().top;tmpmouseX=e.clientX-canvas_x_offset;tmpmouseY=e.clientY-canvas_y_offset;if(tmpmouseX>=psy_stimuli1[psy_readkey.bitmap-1].rect.x&&tmpmouseX<=psy_stimuli1[psy_readkey.bitmap-1].rect.x+psy_stimuli1[psy_readkey.bitmap-1].rect.width&&tmpmouseY>=psy_stimuli1[psy_readkey.bitmap-1].rect.y&&tmpmouseY<=psy_stimuli1[psy_readkey.bitmap-1].rect.y+psy_stimuli1[psy_readkey.bitmap-1].rect.height){keystatus.time=(new Date).getTime()-psy_readkey.starttime;keystatus.status=1;keystatus.mouse_x=tmpmouseX-psy_screen_x_offset;keystatus.mouse_y=tmpmouseY-psy_screen_y_offset;psy_readkey.expect_mouse=false;psy_readkey.stop()}}}function getmouseclick_in_area(e){if(psy_readkey.expect_mouse==true&&psy_readkey.bitmap_range[1]==-1){keystatus.time=(new Date).getTime()-psy_readkey.starttime;canvas_x_offset=c.getBoundingClientRect().left;canvas_y_offset=c.getBoundingClientRect().top;tmpmouseX=e.clientX-canvas_x_offset;tmpmouseY=e.clientY-canvas_y_offset;var correctbitmapclicked=false;if(tmpmouseX>=psy_stimuli1[psy_readkey.bitmap-1].rect.x&&tmpmouseX<=psy_stimuli1[psy_readkey.bitmap-1].rect.x+psy_stimuli1[psy_readkey.bitmap-1].rect.width&&tmpmouseY>=psy_stimuli1[psy_readkey.bitmap-1].rect.y&&tmpmouseY<=psy_stimuli1[psy_readkey.bitmap-1].rect.y+psy_stimuli1[psy_readkey.bitmap-1].rect.height){correctbitmapclicked=true}if(psy_readkey.expectedkey==e.button&&correctbitmapclicked==true)keystatus.status=1;else keystatus.status=2;keystatus.mouse_x=tmpmouseX-psy_screen_x_offset;keystatus.mouse_y=tmpmouseY-psy_screen_y_offset;psy_readkey.expect_mouse=false;psy_readkey.stop()}if(psy_readkey.expect_mouse==true&&psy_readkey.bitmap_range[0]>-1){keystatus.time=(new Date).getTime()-psy_readkey.starttime;canvas_x_offset=c.getBoundingClientRect().left;canvas_y_offset=c.getBoundingClientRect().top;tmpmouseX=e.clientX-canvas_x_offset;tmpmouseY=e.clientY-canvas_y_offset;var tmpbitmap=psy_bitmap_under_mouse(0,psy_readkey.bitmap_range[0],psy_readkey.bitmap_range[1],tmpmouseX-psy_screen_x_offset,tmpmouseY-psy_screen_y_offset);if(tmpbitmap>=psy_readkey.bitmap_range[0]&&tmpbitmap<=psy_readkey.bitmap_range[1]){var correctbitmapclicked=false;keystatus.bitmap=tmpbitmap;if(tmpmouseX>=psy_stimuli1[psy_readkey.bitmap-1].rect.x&&tmpmouseX<=psy_stimuli1[psy_readkey.bitmap-1].rect.x+psy_stimuli1[psy_readkey.bitmap-1].rect.width&&tmpmouseY>=psy_stimuli1[psy_readkey.bitmap-1].rect.y&&tmpmouseX<=psy_stimuli1[psy_readkey.bitmap-1].rect.x+psy_stimuli1[psy_readkey.bitmap-1].rect.height){correctbitmapclicked=true}if(psy_readkey.expectedkey==e.button&&correctbitmapclicked==true)keystatus.status=1;else keystatus.status=2;keystatus.mouse_x=tmpmouseX-psy_screen_x_offset;keystatus.mouse_y=tmpmouseY-psy_screen_y_offset;psy_readkey.expect_mouse=false;psy_readkey.bitmap_range=[-1,-1];psy_readkey.stop()}}}function psy_mouse_in_bitmap_rectangle(bitmap,maxwait){psy_readkey.bitmap=bitmap;window.addEventListener("mousemove",getmouse_in_area,false);psy_readkey.mouseovereventlistener=true;psy_expect_mouse();psy_readkey.start(current_task,maxwait)}function psy_mouse_click_bitmap_rectangle(mousebutton,bitmap,maxwait){psy_readkey.bitmap=bitmap;if(mousebutton=="l"){psy_readkey.expectedkey=0}else{psy_readkey.expectedkey=1}window.addEventListener("mousedown",getmouseclick_in_area,false);psy_readkey.mousedowneventlistener=true;psy_expect_mouse();psy_readkey.start(current_task,maxwait)}function psy_mouse_click_bitmap_rectangle_range(mousebutton,bitmap,maxwait,first,last){psy_readkey.bitmap=bitmap;if(mousebutton=="l"){psy_readkey.expectedkey=0}else{psy_readkey.expectedkey=1}window.addEventListener("mousedown",getmouseclick_in_area,false);psy_readkey.mousedowneventlistener=true;psy_readkey.bitmap_range=[first,last];psy_expect_mouse();psy_readkey.start(current_task,maxwait)}function psy_bitmap_under_mouse(searchdirection,first,last,x,y){var i=0;var j=0;var tmp=0;var found_bitmap=-1;var allchecked=1;i=0;j=psy_stimuli1_n;if(first>-1)i=first-1;if(last>-1)j=last-1;if(searchdirection==0&&i>j){tmp=j;j=i;i=tmp}if(searchdirection==1&&i<j){tmp=j;j=i;i=tmp}while(allchecked==1&&found_bitmap==-1){if(x+psy_screen_x_offset>=psy_stimuli1[i].rect.x&&x+psy_screen_x_offset<=psy_stimuli1[i].rect.x+psy_stimuli1[i].rect.width&&y+psy_screen_y_offset>=psy_stimuli1[i].rect.y&&y+psy_screen_y_offset<=psy_stimuli1[i].rect.y+psy_stimuli1[i].rect.height){found_bitmap=i}else{}if(searchdirection==0&&found_bitmap==-1){if(i>=j)allchecked=0;i++}if(searchdirection==1&&found_bitmap==-1){if(i<=j)allchecked=0;i--}}return found_bitmap+1}function psy_wait(stimulus,key){if(stimulus!=0){psy_clear_stimulus_counters_db();psy_add_centered_bitmap_db(stimulus,PSY_CENTRAL,PSY_CENTRAL,0);psy_draw_all_db()}if(key>=0){psy_readkey.expectedkey=key;psy_readkey.keys=[key];psy_expect_keyboard();psy_readkey.start(current_block,99999999)}else{psy_mouse_visibility(1);psy_readkey.bitmap=1;psy_readkey.expectedkey=0;window.addEventListener("mousedown",getmouseclick_in_area,false);psy_readkey.mousedowneventlistener=true;psy_expect_mouse();psy_mouse_click_bitmap_rectangle("l",1,9999999);psy_readkey.start(current_block,99999999)}}var psy_pager={original_block:"",current_bitmap_in_pager:0,bitmaps:[],n:0,start:function(bitmaps){psy_pager.original_block=current_block;psy_pager.n=bitmaps.length;psy_pager.bitmaps=bitmaps;current_block="psy_pager";psy_pager.current_bitmap_in_pager=0;keystatus.key=-1;psy_pager.run()},run:function(){if((keystatus.key==0||keystatus.key==1)&&psy_pager.current_bitmap_in_pager<psy_pager.n-1)psy_pager.current_bitmap_in_pager++;if(keystatus.key==2&&psy_pager.current_bitmap_in_pager>0)psy_pager.current_bitmap_in_pager--;if(keystatus.key==3){current_block=psy_pager.original_block;psy_clear_screen_db();setTimeout(current_block+".run()",10)}else{psy_clear_stimulus_counters_db();psy_add_centered_bitmap_db(psy_pager.bitmaps[psy_pager.current_bitmap_in_pager],PSY_CENTRAL,PSY_CENTRAL,0);psy_draw_all_db();psy_readkey.expectedkey=32;psy_readkey.keys=[32,40,38,81];psy_expect_keyboard();psy_readkey.start(current_block,99999999)}}};function psy_store_mouse(){psy_mouse_store=psy_mouse_cursor}function psy_restore_mouse(){psy_mouse_visibility(psy_mouse_store)}var psy_mouse_pager={original_block:"",current_bitmap_in_pager:0,read_all:false,bitmaps:[],n:0,start:function(bitmaps){psy_mouse_pager.original_block=current_block;psy_mouse_pager.n=bitmaps.length;psy_mouse_pager.bitmaps=bitmaps;current_block="psy_mouse_pager";psy_mouse_pager.current_bitmap_in_pager=0;psy_mouse_pager.read_all=false;keystatus.key=-1;psy_mouse_pager.run();psy_store_mouse();psy_mouse_visibility(1)},run:function(){if(keystatus.bitmap==3&&psy_mouse_pager.current_bitmap_in_pager<psy_mouse_pager.n-1){psy_mouse_pager.current_bitmap_in_pager++;if(psy_mouse_pager.current_bitmap_in_pager==psy_mouse_pager.n-1)psy_mouse_pager.read_all=true}if(keystatus.bitmap==2&&psy_mouse_pager.current_bitmap_in_pager>0)psy_mouse_pager.current_bitmap_in_pager--;if(keystatus.bitmap==4){current_block=psy_mouse_pager.original_block;psy_clear_screen_db();psy_restore_mouse();setTimeout(current_block+".run()",10)}else{psy_clear_stimulus_counters_db();psy_add_centered_bitmap_db(psy_mouse_pager.bitmaps[psy_mouse_pager.current_bitmap_in_pager],PSY_CENTRAL,PSY_CENTRAL,0);psy_add_centered_bitmap_db(pager_options.back,pager_options.backX,pager_options.backY,0);psy_add_centered_bitmap_db(pager_options.next,pager_options.nextX,pager_options.nextY,0);if(psy_mouse_pager.read_all==true)psy_add_centered_bitmap_db(pager_options.quit,pager_options.quitX,pager_options.quitY,0);psy_draw_all_db();psy_expect_mouse();psy_mouse_click_bitmap_rectangle_range("l",2,9999999,2,4);psy_readkey.start(current_block,99999999)}}};function psy_add_text_rgb_db(fontno,x,y,centerx,centery,r,g,b,text,align){var xpos=0,ypos=0,width=0,height=0;psy_stimuli1[psy_stimuli1_end].x=x;psy_stimuli1[psy_stimuli1_end].y=y;psy_stimuli1[psy_stimuli1_end].type=2;psy_stimuli1[psy_stimuli1_end].on=1;ctx.font=psy_fonts[fontno];tmpsize=ctx.measureText(text);height=psy_fonts_size[fontno];width=tmpsize.width;tmpgraphicsCanvas=document.createElement("canvas");tmpgraphicsCanvas.width=width;tmpgraphicsCanvas.height=Math.round(height*2);tmpgraphics=tmpgraphicsCanvas.getContext("2d");tmpgraphics.fillStyle="rgba(0,0,0,0)";tmpgraphics.fillRect(0,0,width,height);tmpgraphics.fillStyle=hexrgb(r,g,b);tmpgraphics.font=psy_fonts[fontno];tmpgraphics.fillText(text,0,height+height/2);psy_stimuli1[psy_stimuli1_end].text=tmpgraphicsCanvas;xpos=x;ypos=y;if(align==0){if(x==PSY_CENTRAL&&centerx==PSY_CENTRAL)xpos=psy_screen_center_x-width/2;if(x!=PSY_CENTRAL&&centerx==PSY_CENTRAL)xpos=x+psy_screen_x_offset-width/2;if(y==PSY_CENTRAL&&centery==PSY_CENTRAL)ypos=psy_screen_center_y-height;if(y!=PSY_CENTRAL&&centery==PSY_CENTRAL)ypos=y+psy_screen_y_offset-height}if(align==1){if(x==PSY_CENTRAL&&centerx==PSY_CENTRAL)xpos=psy_screen_center_x;if(x!=PSY_CENTRAL&&centerx==PSY_CENTRAL)xpos=x+psy_screen_x_offset;if(y==PSY_CENTRAL&&centery==PSY_CENTRAL)ypos=psy_screen_center_y-height;if(y!=PSY_CENTRAL&&centery==PSY_CENTRAL)ypos=y+psy_screen_y_offset-height}if(align==2){if(x==PSY_CENTRAL&&centerx==PSY_CENTRAL)xpos=psy_screen_center_x-width;if(x!=PSY_CENTRAL&&centerx==PSY_CENTRAL)xpos=x+psy_screen_x_offset-width;if(y==PSY_CENTRAL&&centery==PSY_CENTRAL)ypos=psy_screen_center_y-height;if(y!=PSY_CENTRAL&&centery==PSY_CENTRAL)ypos=y+psy_screen_y_offset-height}if(xpos<0)xpos=0;if(ypos<0)ypos=0;if(xpos>psy_screen_width)xpos=psy_screen_width-width;if(ypos>psy_screen_height)ypos=psy_screen_height-height;psy_stimuli1[psy_stimuli1_end].rect.x=xpos;psy_stimuli1[psy_stimuli1_end].rect.y=ypos;psy_stimuli1[psy_stimuli1_end].rect.width=width;psy_stimuli1[psy_stimuli1_end].rect.height=height;psy_stimuli1_n++;psy_stimuli1_end++;return psy_stimuli1_end}function psy_clear_screen_db(){psy_clear_stimulus_counters_db();psy_draw_all_db()}function psy_clear_stimuli1(number){var tmp;if(number<0)tmp=psy_stimuli1_end+number;else tmp=number-1;if(psy_stimuli1[tmp].on!=0){psy_stimuli1[tmp].on=0;psy_stimuli1_n--}}function psy_unhide_stimuli1(number){var tmp;if(number<0)tmp=psy_stimuli1_end+number;else tmp=number-1;if(psy_stimuli1[tmp].on!=1){psy_stimuli1[tmp].on=1;psy_stimuli1_n++}}function psy_clear_range_db(low,high){var x=0;var i=low;var j=high;if(low>high){j=low;i=high}for(x=i;x<=j;x++)psy_clear_stimuli1(x)}function psy_unhide_range_db(low,high){var x=0;var i=low;var j=high;if(low>high){j=low;i=high}for(x=i;x<=j;x++)psy_unhide_stimuli1(x)}function psy_clear_stimulus_counters_db(){var i=0;while(i<psy_stimuli1_n){psy_stimuli1[i].on=0;i++}psy_stimuli1_n=psy_stimuli1_end=0}function psy_random(low,high){return Math.floor(Math.random()*(high-low+1)+low)}function psy_random_weighted(chances,n){var choosen=0;var chance=0;var max_chance=0;var i;for(i=0;i<n;i++){if(chances[i]>0){chance=psy_random(chances[i]*1e4,1e4);if(chance>max_chance){max_chance=chance;choosen=i}}}return choosen}function psy_random_by(low,high,by){return Math.floor(Math.random()*(high+by-low)/by)*by+low}function psy_random_from_array(tmparray){return tmparray[Math.round(Math.random()*(tmparray.length-1))]}function psy_draw_all_db(){var i=0;var activefound=0;ctx.fillStyle=hexrgb(0,0,0);ctx.fillRect(0,0,psy_screen_width,psy_screen_height);while(activefound<psy_stimuli1_n){if(psy_stimuli1[i].on==1){activefound++;switch(psy_stimuli1[i].type){case 0:ctx.fillStyle=hexrgb(psy_stimuli1[i].r,psy_stimuli1[i].g,psy_stimuli1[i].b);ctx.fillRect(psy_stimuli1[i].rect.x,psy_stimuli1[i].rect.y,psy_stimuli1[i].rect.width,psy_stimuli1[i].rect.height);break;case 1:if(psy_stimuli1[i].R==0)ctx.drawImage(psy_bitmaps[psy_stimuli1[i].bitmap-1],psy_stimuli1[i].rect.x,psy_stimuli1[i].rect.y);else{ctx.save();ctx.translate(psy_screen_width/2,psy_screen_height/2);ctx.rotate(psy_stimuli1[i].R*Math.PI/1800);ctx.drawImage(psy_bitmaps[psy_stimuli1[i].bitmap-1],psy_stimuli1[i].rect.x-psy_screen_width/2,psy_stimuli1[i].rect.y-psy_screen_height/2);ctx.restore()}break;case 2:ctx.drawImage(psy_stimuli1[i].text,psy_stimuli1[i].rect.x,psy_stimuli1[i].rect.y);break;case 3:ctx.fillStyle=hexrgb(psy_stimuli1[i].r,psy_stimuli1[i].g,psy_stimuli1[i].b);ctx.beginPath();ctx.arc(psy_stimuli1[i].rect.x+psy_stimuli1[i].rect.width/2,psy_stimuli1[i].rect.y+psy_stimuli1[i].rect.height/2,psy_stimuli1[i].rect.width/2,0,2*Math.PI);ctx.closePath();ctx.fill();break}}i++}}function psy_add_centered_rectangle_rgb_db(x,y,w,h,r,g,b){var tmpx;var tmpy;psy_stimuli1[psy_stimuli1_end].x=x;psy_stimuli1[psy_stimuli1_end].y=y;psy_stimuli1[psy_stimuli1_end].type=0;psy_stimuli1[psy_stimuli1_end].on=1;if(x==PSY_CENTRAL)tmpx=psy_screen_center_x-w/2;else tmpx=x+psy_screen_x_offset-w/2;if(y==PSY_CENTRAL)tmpy=psy_screen_center_y-h/2;else tmpy=y+psy_screen_y_offset-h/2;psy_stimuli1[psy_stimuli1_end].rect.x=tmpx;psy_stimuli1[psy_stimuli1_end].rect.y=tmpy;psy_stimuli1[psy_stimuli1_end].rect.width=w;psy_stimuli1[psy_stimuli1_end].rect.height=h;psy_stimuli1[psy_stimuli1_end].r=r;psy_stimuli1[psy_stimuli1_end].g=g;psy_stimuli1[psy_stimuli1_end].b=b;psy_stimuli1_n++;psy_stimuli1_end++;return psy_stimuli1_end}function psy_add_centered_circle_rgb_db(x,y,radius,r,g,b){var tmpx;var tmpy;psy_stimuli1[psy_stimuli1_end].x=x;psy_stimuli1[psy_stimuli1_end].y=y;psy_stimuli1[psy_stimuli1_end].type=3;psy_stimuli1[psy_stimuli1_end].on=1;if(x==PSY_CENTRAL)tmpx=psy_screen_center_x-radius;else tmpx=x+psy_screen_x_offset-radius;if(y==PSY_CENTRAL)tmpy=psy_screen_center_y-radius;else tmpy=y+psy_screen_y_offset-radius;psy_stimuli1[psy_stimuli1_end].rect.x=tmpx;psy_stimuli1[psy_stimuli1_end].rect.y=tmpy;psy_stimuli1[psy_stimuli1_end].rect.width=radius*2;psy_stimuli1[psy_stimuli1_end].rect.height=radius*2;psy_stimuli1[psy_stimuli1_end].r=r;psy_stimuli1[psy_stimuli1_end].g=g;psy_stimuli1[psy_stimuli1_end].b=b;psy_stimuli1_n++;psy_stimuli1_end++;return psy_stimuli1_end}function psy_add_centered_bitmap_db(number,x,y,r){var tmpx;var tmpy;psy_stimuli1[psy_stimuli1_end].x=x;psy_stimuli1[psy_stimuli1_end].y=y;psy_stimuli1[psy_stimuli1_end].R=r;psy_stimuli1[psy_stimuli1_end].type=1;psy_stimuli1[psy_stimuli1_end].on=1;psy_stimuli1[psy_stimuli1_end].bitmap=number;if(x==PSY_CENTRAL)tmpx=psy_screen_center_x-psy_bitmaps[number-1].width/2;else tmpx=x+psy_screen_x_offset-psy_bitmaps[number-1].width/2;if(y==PSY_CENTRAL)tmpy=psy_screen_center_y-psy_bitmaps[number-1].height/2;else tmpy=y+psy_screen_y_offset-psy_bitmaps[number-1].height/2;psy_stimuli1[psy_stimuli1_end].rect.x=tmpx;psy_stimuli1[psy_stimuli1_end].rect.y=tmpy;psy_stimuli1[psy_stimuli1_end].rect.width=psy_bitmaps[number-1].width;psy_stimuli1[psy_stimuli1_end].rect.height=psy_bitmaps[number-1].height;psy_stimuli1_n++;psy_stimuli1_end++;return psy_stimuli1_end}function psy_set_coordinate_system(s){if(s=="c"){psy_screen_x_offset=psy_screen_center_x;psy_screen_y_offset=psy_screen_center_y}}function Rectangle(){this.x=0;this.y=0;this.w=0;this.h=0}function psy_stimulus1(){this.on=0;this.type=0;this.r=0;this.g=0;this.b=0;this.a=0;this.bitmap=0;this.x=0;this.y=0;this.w=0;this.h=0;this.R=0;this.rect=0}var psy_stimuli1=new Array;for(i=0;i<MAXBITMAPS;i++){psy_stimuli1[i]=new psy_stimulus1;psy_stimuli1[i].rect=new Rectangle}var psy_stimuli1_n=0;var psy_stimuli1_end=0;function psy_mouse_visibility(visible){if(visible==1){c.style.cursor="default";psy_mouse_cursor=1}else{c.style.cursor="none";psy_mouse_cursor=0}}var trial_counter;var i;var trials_left_to_do=0;var tasklist_end_request=0;var experiment_end_request=0;var Timer_tasklist_begin;var Timer_tasklist_now;var maxtasklisttime=0;var TRIAL_SELECTION_RANDOM=0;var TRIAL_SELECTION_RANDOM_NEVER_REPEAT=1;var TRIAL_SELECTION_FIXED_SEQUENCE=2;var TRIAL_SELECTION_REPEAT_ON_ERROR=3;var TRIAL_SELECTION_ONCE=4;var error_status;trial_counter_per_task=new Array;task_probability=new Array;var blockname="";var blockrepeat=1;var current_trial=new Array;var current_task="";var current_block="";function psy_time_since_start(){return(new Date).getTime()-psy_exp_start_time}function psy_diff_timers(starttime,endtime){return endtime-starttime}function psy_delay(ms){setTimeout(current_task+".run();",ms)}function psy_delay_block(ms){setTimeout(current_block+".run();",ms)}var psy_chosen_n=0;var psy_chosen_objects=[];var choose={first:0,last:0,counter1:0,counter2:0,mouse_select_bitmap:0,mouse_select_bg_bitmap:0,keep:false,minselect:0,maxselect:9999,current_exit_bitmap_num:0,n_selected:0,exit:-1,exit_bitmap_1:-1,exit_bitmap_2:-1,selectedstimuli:[],expect_key:0,timer:0,getmouseclick:function(e){if(choose.expect_key==1){canvas_x_offset=c.getBoundingClientRect().left;canvas_y_offset=c.getBoundingClientRect().top;tmpmouseX=e.clientX-canvas_x_offset-psy_screen_x_offset;tmpmouseY=e.clientY-canvas_y_offset-psy_screen_y_offset;tmpnum=psy_bitmap_under_mouse(0,choose.current_exit_bitmap_num,choose.current_exit_bitmap_num,tmpmouseX,tmpmouseY);if(tmpnum==choose.current_exit_bitmap_num&&choose.n_selected>=choose.minselect&&choose.n_selected<=choose.maxselect){choose.stop()}else{tmpnum=psy_bitmap_under_mouse(0,choose.first,choose.last,tmpmouseX,tmpmouseY);tmpx=psy_stimuli1[tmpnum-1].x;tmpy=psy_stimuli1[tmpnum-1].y;if(choose.selectedstimuli[tmpnum]==null){if(choose.n_selected<choose.maxselect){choose.selectedstimuli[tmpnum]=psy_add_centered_bitmap_db(choose.mouse_select_bitmap,tmpx,tmpy);choose.n_selected++}}else{psy_clear_stimuli1(choose.selectedstimuli[tmpnum]);choose.selectedstimuli[tmpnum]=null;choose.n_selected--}if(choose.n_selected>=choose.minselect&&choose.n_selected<=choose.maxselect){if(choose.current_exit_bitmap_num==choose.exit_bitmap_2){psy_unhide_stimuli1(choose.exit_bitmap_1);psy_clear_stimuli1(choose.exit_bitmap_2);choose.current_exit_bitmap_num=choose.exit_bitmap_1}}else{if(choose.current_exit_bitmap_num==choose.exit_bitmap_1){psy_unhide_stimuli1(choose.exit_bitmap_2);psy_clear_stimuli1(choose.exit_bitmap_1);choose.current_exit_bitmap_num=choose.exit_bitmap_2}}psy_draw_all_db()}}},timeout:function(){window.removeEventListener("mousedown",choose.getmouseclick,false);psy_clear_stimuli1(choose.exit_bitmap_1);psy_clear_stimuli1(choose.exit_bitmap_2);if(!choose.keep){for(i=choose.first;i<choose.last;i++){if(choose.selectedstimuli[i]!=null){psy_clear_stimuli1(choose.selectedstimuli[i])}}psy_stimuli1_n=choose.counter1;psy_stimuli1_end=choose.counter2}psy_draw_all_db();choose.expect_key=0;choose.maxselect=9999;setTimeout(current_task+".run()",0)},stop:function(){keystatus.time=(new Date).getTime()-choose.starttime;psy_chosen_n=0;psy_chosen_objects=Array(100).fill(0);for(i=choose.first;i<=choose.last;i++){if(choose.selectedstimuli[i]!=null){psy_chosen_objects[psy_chosen_n]=i;psy_chosen_n++}}clearTimeout(choose.timer);choose.timeout()}};function psy_choose(maxtime,stimulus_first,stimulus_last,exit1,exit2,exit_x,exit_y){choose.counter1=psy_stimuli1_n;choose.counter2=psy_stimuli1_end;choose.exit_bitmap_1=psy_add_centered_bitmap_db(exit1,exit_x,exit_y);choose.exit_bitmap_2=psy_add_centered_bitmap_db(exit2,exit_x,exit_y);psy_clear_stimuli1(choose.exit_bitmap_1);psy_clear_stimuli1(choose.exit_bitmap_2);choose.expect_key=1;choose.n_selected=0;choose.first=stimulus_first;choose.last=stimulus_last;choose.selectedstimuli=[];if(choose.n_selected>=choose.minselect&&choose.n_selected<=choose.maxselect){psy_unhide_stimuli1(choose.exit_bitmap_1);choose.current_exit_bitmap_num=choose.exit_bitmap_1}else{psy_unhide_stimuli1(choose.exit_bitmap_2);choose.current_exit_bitmap_num=choose.exit_bitmap_2}psy_draw_all_db();window.addEventListener("mousedown",choose.getmouseclick,false);choose.timer=setTimeout("choose.timeout()",maxtime);choose.starttime=(new Date).getTime()}function psy_scale_point_x(x,realx,realw,xlim1,xlim2){xlimrange=xlim2-xlim1;rangefactor=realw/xlimrange;return realx+(x-xlim1)*rangefactor}function psy_scale_point_y(y,realy,realh,ylim1,ylim2){ylimrange=ylim2-ylim1;rangefactor=realh/ylimrange;return realy+realh-(y-ylim1)*rangefactor}function psy_palette(colornumber){switch(colornumber){case 1:color="white";break;case 2:color="red";break;case 3:color="green";break;case 4:color="yellow";break;case 5:color="blue";break}return color}function psy_plot_xaxis(x,y,w,xlim1,xlim2){var i;for(i=xlim1;i<xlim2;i++){if(i%100==0){ctx.fillStyle="white";ctx.font="12px Arial";ctx.fillText(i,psy_scale_point_x(i,x,w,xlim1,xlim2)-10,y+20);ctx.beginPath();ctx.moveTo(psy_scale_point_x(i,x,w,xlim1,xlim2),y);ctx.lineTo(psy_scale_point_x(i,x,w,xlim1,xlim2),y+8);ctx.stroke()}else{if(i%10==0){ctx.beginPath();ctx.moveTo(psy_scale_point_x(i,x,w,xlim1,xlim2),y);ctx.lineTo(psy_scale_point_x(i,x,w,xlim1,xlim2),y+4);ctx.stroke()}}}}function psy_plot_yaxis(x,y,w,ylim1,ylim2){var i;for(i=ylim1;i<ylim2;i++){if(i%50==0){ctx.fillStyle="white";ctx.font="12px Arial";ctx.fillText(i,x-30,psy_scale_point_y(i,y,w,ylim1,ylim2)+3);ctx.beginPath();ctx.moveTo(x-8,psy_scale_point_y(i,y,w,ylim1,ylim2));ctx.lineTo(x,psy_scale_point_y(i,y,w,ylim1,ylim2));ctx.stroke()}else{if(i%10==0){ctx.beginPath();ctx.moveTo(x-4,psy_scale_point_y(i,y,w,ylim1,ylim2));ctx.lineTo(x,psy_scale_point_y(i,y,w,ylim1,ylim2));ctx.stroke()}}}}function psy_plot_circle(x,y,radius,colorname){ctx.fillStyle=colorname;ctx.beginPath();ctx.arc(x,y,radius,0,2*Math.PI);ctx.closePath();ctx.fill()}function numsort(a,b){return a-b}function minimum(a){tmp=a.slice();return tmp.sort(numsort)[0]}function maximum(a){tmp=a.slice();return tmp.sort(numsort)[tmp.length-1]}function psy_xyplot(x,y,w,h,box,col,xdata,ydata,xlabel,ylabel){xlim1=minimum(xdata)-10;xlim2=maximum(xdata)+10;ylim1=minimum(ydata)-10;ylim2=maximum(ydata)+10;for(i=0;i<xdata.length;i++){psy_plot_circle(psy_scale_point_x(xdata[i],x,w,xlim1,xlim2),psy_scale_point_y(ydata[i],y,h,ylim1,ylim2),4,psy_palette(col))}ctx.beginPath();ctx.strokeStyle=psy_palette(col);ctx.rect(x,y,w,h);ctx.stroke();psy_plot_xaxis(x,y+h,w,xlim1,xlim2);psy_plot_yaxis(x,y,h,ylim1,ylim2);ctx.fillStyle="white";ctx.font="12px Arial";ctx.fillText(xlabel,x+w/2,y+h+30);ctx.save();ctx.translate(x-50,y+h/2);ctx.rotate(-Math.PI/2);ctx.textAlign="center";ctx.fillText(ylabel,0,0);ctx.restore()
}function psy_lineplot(x,y,w,h,box,ydata,colors,xlabel,ylabel){xlim1=1-5;xlim2=ydata.length+5;ylim1=minimum(ydata)-10;ylim2=maximum(ydata)+10;previousx=0;previousy=0;for(i=0;i<ydata.length;i++){tmpx=psy_scale_point_x(i,x,w,xlim1,xlim2);tmpy=psy_scale_point_y(ydata[i],y,h,ylim1,ylim2);psy_plot_circle(tmpx,tmpy,4,psy_palette(colors[i]));if(i>0){ctx.strokeStyle="white";ctx.beginPath();ctx.moveTo(previousx,previousy);ctx.lineTo(tmpx,tmpy);ctx.stroke()}previousx=tmpx;previousy=tmpy}ctx.beginPath();ctx.strokeStyle="white";ctx.rect(x,y,w,h);ctx.stroke();psy_plot_xaxis(x,y+h,w,xlim1,xlim2);psy_plot_yaxis(x,y,h,ylim1,ylim2);ctx.fillStyle="white";ctx.font="12px Arial";ctx.fillText(xlabel,x+w/2,y+h+30);ctx.save();ctx.translate(x-50,y+h/2);ctx.rotate(-Math.PI/2);ctx.textAlign="center";ctx.fillText(ylabel,0,0);ctx.restore()}function psy_fullscreen(o){if(o.requestFullScreen)o.requestFullScreen();else if(o.webkitRequestFullScreen)o.webkitRequestFullScreen(c.ALLOW_KEYBOARD_INPUT);else if(o.mozRequestFullScreen)o.mozRequestFullScreen();else if(o.msRequestFullscreen)o.msRequestFullscreen()}function psy_exit_fullscreen(){if(document.exitFullScreen)document.exitFullScreen();else if(document.webkitCancelFullScreen)document.webkitCancelFullScreen();else if(document.mozCancelFullScreen)document.mozCancelFullScreen();else if(document.msExitFullscreen)document.msExitFullscreen()}function psy_rotate_existing_stimulus(number,r){if(number<0)tmp=psy_stimuli1_end+number;else tmp=number-1;psy_stimuli1[tmp].R=r}var rate={first:0,last:0,rt:0,status:0,selected:-1,counter1:0,counter2:0,keep:false,exit:-1,left_bitmap:0,right_bitmap:0,item_bitmap:0,between_px:20,expect_key:0,timer:0,getmouseclick:function(e){if(rate.expect_key==1){canvas_x_offset=c.getBoundingClientRect().left;canvas_y_offset=c.getBoundingClientRect().top;tmpmouseX=e.clientX-canvas_x_offset-psy_screen_x_offset;tmpmouseY=e.clientY-canvas_y_offset-psy_screen_y_offset;tmpnum=psy_bitmap_under_mouse(0,rate.first,rate.last,tmpmouseX,tmpmouseY);tmpx=psy_stimuli1[tmpnum-1].x;tmpy=psy_stimuli1[tmpnum-1].y;if(tmpnum>=rate.first&&tmpnum<=rate.last){rate.selected=tmpnum-rate.first+1;rate.expect_key=0;rate.stop()}}},timeout:function(){window.removeEventListener("mousedown",rate.getmouseclick,false);if(!rate.keep){for(i=rate.counter2+1;i<=rate.last;i++){psy_clear_stimuli1(i)}psy_stimuli1_n=rate.counter1;psy_stimuli1_end=rate.counter2}psy_draw_all_db();rate.expect_key=0;psy_restore_mouse();setTimeout(current_task+".run()",0)},stop:function(){rate.rt=(new Date).getTime()-rate.starttime;rate.status=1;clearTimeout(rate.timer);rate.timeout()}};function psy_rate_go(xpos,ypos,maxtime,items){rate.rt=0;rate.selected=-1;rate.status=3;psy_store_mouse();psy_mouse_visibility(1);rate.counter1=psy_stimuli1_n;rate.counter2=psy_stimuli1_end;if(rate.item_bitmap==0){itemwidth=20}else{itemwidth=psy_bitmaps[rate.item_bitmap-1].width}if(rate.left_bitmap==0){scaleW=itemwidth*items+rate.between_px*(items-1)}else{scaleW=itemwidth*items+rate.between_px*(items-1)}if(rate.left_bitmap==0){psy_add_centered_rectangle_rgb_db(xpos-(scaleW/2+15+rate.between_px),ypos,30,30,255,255,255);psy_add_centered_rectangle_rgb_db(xpos+scaleW/2+15+rate.between_px,ypos,30,30,255,255,255)}else{psy_add_centered_bitmap_db(rate.left_bitmap,xpos-(scaleW/2+psy_bitmaps[rate.left_bitmap-1].width/2+rate.between_px),ypos,0);psy_add_centered_bitmap_db(rate.right_bitmap,xpos+scaleW/2+psy_bitmaps[rate.right_bitmap-1].width/2+rate.between_px,ypos,0)}rate.first=psy_stimuli1_end+1;for(i=0;i<items;i++){if(rate.item_bitmap==0){psy_add_centered_circle_rgb_db(xpos-scaleW/2+i*(rate.between_px+itemwidth)+itemwidth/2,ypos,10,255,255,0)}else{psy_add_centered_bitmap_db(rate.item_bitmap,xpos-scaleW/2+i*(rate.between_px+itemwidth)+itemwidth/2,ypos,0)}}rate.last=psy_stimuli1_end;psy_draw_all_db();rate.expect_key=1;window.addEventListener("mousedown",rate.getmouseclick,false);rate.timer=setTimeout("rate.timeout()",maxtime);rate.starttime=(new Date).getTime()}function start_exp_setup(){topX=psy_screen_width-psy_screen_width/2-450/2;topY=psy_screen_height-psy_screen_height/2-350/2;botX=psy_screen_width-psy_screen_width/2+450/2;botY=psy_screen_height-psy_screen_height/2+350/2;tmp1=document.getElementById("exp");tmp2=tmp1.getContext("2d");tmp2.fillStyle="red";tmp2.fillRect(topX,topY,450,350);tmp2.fillStyle="yellow";tmp2.font="24px Arial";tmp2.textAlign="center";if(!psy_startbutton_text)psy_startbutton_text="Click to start ...";tmp2.fillText(psy_startbutton_text,psy_screen_width/2,psy_screen_height/2);window.addEventListener("mousedown",tmpmouse,false);ScreenStartTime=(new Date).getTime()}function formatoutputdata(text){tmp=text.split(/\r?\n/);out="";for(i=0;i<tmp.length-1;i++){tmp2=tmp[i].split(/\s+/);out=out+"<tr>";for(j=0;j<tmp2.length;j++){out=out+"<td>"+tmp2[j]+"</td>"}out=out+"</tr>"}return out}function showdata_html(){var newbutton=document.createElement("BUTTON");var newtext=document.createTextNode("Show data");newbutton.appendChild(newtext);newbutton.setAttribute("onclick",'showdata.innerHTML = "<table border=1>" + formatoutputdata(outputdata) + "</table>";');document.body.appendChild(newbutton)}var priming_ins=1;var fixpoint=2;var arial=0;var Related=0;var Unrelated=0;var Nonword=0;var psy_startbutton_text="Click to start";var general_trial_counter=0;var selectedoncecount_table_words=0;function wordstype(x1,x2,x3,x4,x5,xselected){this.c1=x1;this.c2=x2;this.c3=x3;this.c4=x4;this.c5=x5;this.selected=xselected}var words=[new wordstype("運命","運氣","related",1,1,0),new wordstype("招數","招式","related",1,1,0),new wordstype("關聯","關係","related",1,1,0),new wordstype("乳豬","傷者","unrelated",2,1,0),new wordstype("波紋","食慾","unrelated",2,1,0),new wordstype("範例","底價","unrelated",2,1,0),new wordstype("警察","祈被","nonword",3,2,0),new wordstype("毛蟲","籮插","nonword",3,2,0),new wordstype("溫柔","蒽梳","nonword",3,2,0),new wordstype("遠見","西燒","nonword",3,2,0),new wordstype("田徑","靈腳","nonword",3,2,0),new wordstype("彩虹","口椅","nonword",3,2,0)];var task_lexical={step:1,task_trial_selection:0,current_trial:-1,taskname:"task_lexical",tasknumber:1,start:function(trial_selection){task_lexical.trial_selection=trial_selection;task_lexical.step=1;psy_clear_stimulus_counters_db();task_lexical.run()},run:function(){current_task=task_lexical.taskname;switch(task_lexical.step){case 1:task_lexical.step++;general_trial_counter++;if(task_lexical.trial_selection==TRIAL_SELECTION_RANDOM){tablerow=psy_random(0,11);task_lexical.current_trial=tablerow}if(task_lexical.trial_selection==TRIAL_SELECTION_RANDOM_NEVER_REPEAT){tablerow=psy_random(0,11);while(tablerow==task_lexical.current_trial)tablerow=psy_random(0,11);task_lexical.current_trial=tablerow}if(task_lexical.trial_selection==TRIAL_SELECTION_FIXED_SEQUENCE){task_lexical.current_trial++;if(task_lexical.current_trial==12)task_lexical.current_trial=0;tablerow=task_lexical.current_trial}if(task_lexical.trial_selection==TRIAL_SELECTION_REPEAT_ON_ERROR){if(error_status!=0&&task_lexical.current_trial!=-1){tablerow=task_lexical.current_trial}else{tablerow=psy_random(0,11);task_lexical.current_trial=tablerow}}if(task_lexical.trial_selection==TRIAL_SELECTION_ONCE){if(selectedoncecount_table_words==12){for(tmptr=0;tmptr<12;tmptr++)words[tmptr].selected=0;selectedoncecount_table_words=0}tablerow=psy_random(0,11);while(words[tablerow].selected==1||tablerow==task_lexical.current_trial)tablerow=psy_random(0,11);task_lexical.current_trial=tablerow;selectedoncecount_table_words++;words[tablerow].selected=1}error_status=0;possiblekeys=[65,76];psy_add_centered_bitmap_db(fixpoint,PSY_CENTRAL,PSY_CENTRAL,0);psy_draw_all_db();psy_delay(500);break;case 2:task_lexical.step++;psy_clear_stimuli1(1);psy_draw_all_db();psy_delay(500);break;case 3:task_lexical.step++;psy_add_text_rgb_db(0,0,0,PSY_CENTRAL,PSY_CENTRAL,255,255,255,words[tablerow].c1,0);psy_draw_all_db();psy_delay(500);break;case 4:task_lexical.step++;psy_clear_stimuli1(2);psy_draw_all_db();psy_delay(250);break;case 5:task_lexical.step++;psy_add_text_rgb_db(0,0,0,PSY_CENTRAL,PSY_CENTRAL,255,255,255,words[tablerow].c2,0);psy_draw_all_db();psy_keyboard(possiblekeys,2,words[tablerow].c5-1,2e3);break;case 6:task_lexical.step++;psy_clear_stimuli1(3);psy_draw_all_db();if(!(keystatus.status==1)){task_lexical.step=9};setTimeout("task_lexical.run()",0);break;case 7:task_lexical.step++;psy_add_text_rgb_db(0,PSY_CENTRAL,PSY_CENTRAL,PSY_CENTRAL,PSY_CENTRAL,255,255,255,"答對了!",0);psy_draw_all_db();psy_delay(500);break;case 8:task_lexical.step++;psy_clear_stimuli1(4);psy_draw_all_db();task_lexical.run();break;case 9:task_lexical.step++;if(!(keystatus.status!=1)){task_lexical.step=12};setTimeout("task_lexical.run()",0);break;case 10:task_lexical.step++;psy_add_text_rgb_db(0,PSY_CENTRAL,PSY_CENTRAL,PSY_CENTRAL,PSY_CENTRAL,255,255,255,"答錯了或反應太慢!",0);psy_draw_all_db();psy_delay(1500);break;case 11:task_lexical.step++;psy_clear_stimuli1(4);psy_draw_all_db();task_lexical.run();break;case 12:task_lexical.step++;addoutput(current_block.substring(6,current_block.length)+" "+(tablerow+1)+" "+words[tablerow].c1+" "+words[tablerow].c2+" "+words[tablerow].c3+" "+words[tablerow].c4+" "+keystatus.time+" "+keystatus.status);setTimeout(current_block+".run()",0);break}}};var block_messagenumber1={blockname:"block_messagenumber1",step:1,trial_counter:0,start:function(){block_messagenumber1.step=1;current_block="block_messagenumber1";psy_clear_stimulus_counters_db();block_messagenumber1.run()},run:function(){current_block=block_messagenumber1.blockname;switch(block_messagenumber1.step){case 1:block_messagenumber1.step++;psy_wait(priming_ins,32);break;case 2:block_messagenumber1.step++;psy_clear_screen_db();block_messagenumber1.run();break;case 3:block_messagenumber1.step++;setTimeout("blocks"+psy_blockorder+".run()",0);break}}};var block_training={blockname:"block_training",step:1,trial_counter:0,trial_counter_per_task:[0],max_trials_in_block:999999,criteria_fullfilled:1,choosetask:0,start:function(){block_training.step=1;current_block="block_training";block_training.trial_counter_per_task[0]=12;psy_clear_stimulus_counters_db();block_training.run()},run:function(){current_block=block_training.blockname;switch(block_training.step){case 1:block_training.step++;psy_clear_screen_db();block_training.max_trials_in_block=999999;block_training.criteria_fullfilled=1;if(block_training.criteria_fullfilled>0&&block_training.trial_counter<=block_training.max_trials_in_block){block_training.trial_counter++;task_lexical.start(TRIAL_SELECTION_ONCE)}else{setTimeout("block_training.run()",0)}break;case 2:block_training.step++;block_training.trial_counter_per_task[0]--;if(block_training.trial_counter_per_task[0]==0||block_training.trial_counter>=block_training.max_trials_in_block||tasklist_end_request==1||experiment_end_request==1){block_training.criteria_fullfilled=0;tasklist_end_request=0}if(block_training.criteria_fullfilled==1){block_training.step=block_training.step-2;setTimeout("block_training.run()",0)}else{setTimeout("block_training.run()",0)}break;case 3:block_training.step++;psy_clear_screen_db();datalines=outputdata.split("\n");var tmptrialcount=0;var tmplist=new Array;var tmpsum=0;var tmpmin=987654321;var tmpmax=-987654321;for(tmpx=0;tmpx<datalines.length-1;tmpx++){datalinenumbers=datalines[tmpx].split(/ +/);if(parseInt(datalinenumbers[6-1])==1&parseInt(datalinenumbers[8-1])==1){tmplist[tmptrialcount]=parseInt(datalinenumbers[6]);tmpsum=tmpsum+parseInt(datalinenumbers[6]);if(parseInt(datalinenumbers[6])<tmpmin)tmpmin=parseInt(datalinenumbers[6]);if(parseInt(datalinenumbers[6])>tmpmax)tmpmax=parseInt(datalinenumbers[6]);tmptrialcount++}}if(tmptrialcount>0)Related=Math.round(tmpsum/tmptrialcount);else Related=0;datalines=outputdata.split("\n");var tmptrialcount=0;var tmplist=new Array;var tmpsum=0;var tmpmin=987654321;var tmpmax=-987654321;for(tmpx=0;tmpx<datalines.length-1;tmpx++){datalinenumbers=datalines[tmpx].split(/ +/);if(parseInt(datalinenumbers[6-1])==2&parseInt(datalinenumbers[8-1])==1){tmplist[tmptrialcount]=parseInt(datalinenumbers[6]);tmpsum=tmpsum+parseInt(datalinenumbers[6]);if(parseInt(datalinenumbers[6])<tmpmin)tmpmin=parseInt(datalinenumbers[6]);if(parseInt(datalinenumbers[6])>tmpmax)tmpmax=parseInt(datalinenumbers[6]);tmptrialcount++}}if(tmptrialcount>0)Unrelated=Math.round(tmpsum/tmptrialcount);else Unrelated=0;datalines=outputdata.split("\n");var tmptrialcount=0;var tmplist=new Array;var tmpsum=0;var tmpmin=987654321;var tmpmax=-987654321;for(tmpx=0;tmpx<datalines.length-1;tmpx++){datalinenumbers=datalines[tmpx].split(/ +/);if(parseInt(datalinenumbers[6-1])==3&parseInt(datalinenumbers[8-1])==1){tmplist[tmptrialcount]=parseInt(datalinenumbers[6]);tmpsum=tmpsum+parseInt(datalinenumbers[6]);if(parseInt(datalinenumbers[6])<tmpmin)tmpmin=parseInt(datalinenumbers[6]);if(parseInt(datalinenumbers[6])>tmpmax)tmpmax=parseInt(datalinenumbers[6]);tmptrialcount++}}if(tmptrialcount>0)Nonword=Math.round(tmpsum/tmptrialcount);else Nonword=0;tmptext="有關聯詞:  "+Related+" ms";psy_add_text_rgb_db(0,-200,-200,PSY_CENTRAL,PSY_CENTRAL,255,255,255,tmptext,0);psy_draw_all_db();tmptext="無關聯詞:  "+Unrelated+" ms";psy_add_text_rgb_db(0,-200,-50,PSY_CENTRAL,PSY_CENTRAL,255,255,255,tmptext,0);psy_draw_all_db();tmptext="假詞:  "+Nonword+" ms";psy_add_text_rgb_db(0,-200,100,PSY_CENTRAL,PSY_CENTRAL,255,255,255,tmptext,0);psy_draw_all_db();psy_add_text_rgb_db(0,-200,200,PSY_CENTRAL,PSY_CENTRAL,255,255,255,"按空白鍵繼續",0);psy_draw_all_db();psy_wait(0,32);break;case 4:block_training.step++;psy_clear_screen_db();setTimeout("blocks"+psy_blockorder+".run()",0);break}}};function main(){c.focus();psy_screen_height=600;psy_screen_width=800;psy_screen_center_x=psy_screen_width/2;psy_screen_center_y=psy_screen_height/2;psy_set_coordinate_system("c");psy_exp_start_time=psy_exp_current_time=(new Date).getTime();psy_mouse_visibility(0);psy_load_font("Arial",40);psy_load_bitmap("data:image/png;base64,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");psy_load_bitmap("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA5CAYAAABqMUjBAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAANNgAADTYB2FWR8gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAD3SURBVGiB7dkxCoNAFIThMQpeQQQbYRuPZSMK3smreAobK0GvsHabKqDElLuB2flgGy3e+4lYmASAQ0Re/14gNAWzCxbcdR3O83w8fd+HWgNZqEFpmiLP8+clsmBr6JGmp2B2CmanYHYKZqdgdgpmp2B2CmYXXXCCy4f4oigwTZOXQVVVoWmax3vLsmDbNi9z27bFcRy3a+5z6rp2bIwx7toY3SOtYHbRBd8++VtrMc+zl0FlWcIY83hvXVfs++5lrrX265oLcYZh+PkmHccxyA7QWzoCCmanYHYKZqdgdgpmp2B2CmanYHYKZnf7bykG0f3CCmb3Bgh/WcdLG1w9AAAAAElFTkSuQmCC");when_stimuli_loaded_do("blocks"+psy_blockorder+".run()")}var blocks1={blocknumber:0,nblocks:2,run:function(){blocks1.blocknumber++;switch(blocks1.blocknumber){case 1:block_messagenumber1.start();break;case 2:block_training.start();break;case 3:showdata_html();break}}};
</script>
<div id='showdata'></div>

</body>
</html>
